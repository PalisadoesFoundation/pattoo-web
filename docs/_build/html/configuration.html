
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Configuration Guide &#8212; Pattoo Web  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="shortcut icon" href="_static/pattoo-rtd.png"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pattoo Web API Daemon" href="pattoo_webd.html" />
    <link rel="prev" title="Basic Installation" href="installation.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="configuration-guide">
<h1>Configuration Guide<a class="headerlink" href="#configuration-guide" title="Permalink to this headline">¶</a></h1>
<p>After installation, you will need to create a configuration file in a directory dedicated to <code class="docutils literal notranslate"><span class="pre">pattoo</span></code>.</p>
<div class="section" id="setting-the-configuration-directory-location">
<h2>Setting the  Configuration Directory Location<a class="headerlink" href="#setting-the-configuration-directory-location" title="Permalink to this headline">¶</a></h2>
<p>You must first set the location of the configuration directory by using the <code class="docutils literal notranslate"><span class="pre">PATTOO_CONFIGDIR</span></code> environmental variable. Here is how to do this from the Linux command line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">export</span> <span class="nv">PATTOO_CONFIGDIR</span><span class="o">=</span>/path/to/configuration/directory
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pattoo</span></code> applications will read the configuration files located in this directory when <code class="docutils literal notranslate"><span class="pre">PATTOO_CONFIGDIR</span></code> is set.</p>
<p>You can automatically set this variable each time you log in by adding these lines to your <code class="docutils literal notranslate"><span class="pre">~/.bash_profile</span></code> file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PATTOO_CONFIGDIR</span><span class="o">=</span>/path/to/configuration/directory
</pre></div>
</div>
<p>Make sure that files in this directory are readable by the user that will be running <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> agent daemons or scripts.</p>
</div>
<div class="section" id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>There are two ways to configure <code class="docutils literal notranslate"><span class="pre">pattoo</span></code>. These are the:</p>
<ol class="arabic simple">
<li><p>Quick Method</p></li>
<li><p>Expert Method</p></li>
</ol>
<div class="section" id="quick-method">
<h3>Quick Method<a class="headerlink" href="#quick-method" title="Permalink to this headline">¶</a></h3>
<p>Use the quick method if you are new to <code class="docutils literal notranslate"><span class="pre">pattoo</span></code>.</p>
<p>Run the <code class="docutils literal notranslate"><span class="pre">setup/configure.py</span></code> script. It will prompt you for all configuration parameters. The defaults should be sufficient in most cases.</p>
<p>Here’s the command to run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>setup/configure.py
</pre></div>
</div>
<p>Run the installation script next as outlined in the <a class="reference internal" href="installation.html"><span class="doc">Basic Installation</span></a> guide.</p>
</div>
<div class="section" id="expert-method">
<h3>Expert Method<a class="headerlink" href="#expert-method" title="Permalink to this headline">¶</a></h3>
<p>This section goes into configuration parameters in great detail.</p>
<div class="section" id="copy-the-templates-to-your-configuration-directory">
<h4>Copy the Templates to Your Configuration Directory<a class="headerlink" href="#copy-the-templates-to-your-configuration-directory" title="Permalink to this headline">¶</a></h4>
<p>Copy the template files in the <code class="docutils literal notranslate"><span class="pre">examples/etc</span></code> directory to the <code class="docutils literal notranslate"><span class="pre">PATTOO_CONFIGDIR</span></code> location.</p>
<p><strong>NOTE:</strong> If a <code class="docutils literal notranslate"><span class="pre">/path/to/configuration/directory/pattoo_web.yaml</span></code> or <code class="docutils literal notranslate"><span class="pre">/path/to/configuration/directory/pattoo.yaml</span></code> file already exists in the directory then skip this step and edit the file according to the steps in following sections.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cp examples/etc/pattoo_web.yaml.template <span class="se">\</span>
    /path/to/configuration/directory/pattoo_web.yaml

$ cp examples/etc/pattoo.yaml.template <span class="se">\</span>
    /path/to/configuration/directory/pattoo.yaml
</pre></div>
</div>
<p>The next step is to edit the contents of both files.</p>
</div>
<div class="section" id="edit-your-configuration-files">
<h4>Edit Your Configuration Files<a class="headerlink" href="#edit-your-configuration-files" title="Permalink to this headline">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> server uses two configuration files:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pattoo.yaml</span></code>: Provides general configuration information for all <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> related applications. <code class="docutils literal notranslate"><span class="pre">pattoo.yaml</span></code> also defines how <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> agents should connect to the <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> server APIs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pattoo_webd.yaml</span></code>: Provides configuration details for all the <code class="docutils literal notranslate"><span class="pre">pattoo-web</span></code> server’s API daemons.</p></li>
</ol>
<p>Take some time to read up on <code class="docutils literal notranslate"><span class="pre">YAML</span></code> formatted files if you are not familiar with them. A background knowledge is always helpful.</p>
<div class="section" id="edit-your-pattoo-communication-configuration">
<h5>Edit Your <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> Communication Configuration<a class="headerlink" href="#edit-your-pattoo-communication-configuration" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">pattoo.yaml</span></code> file created from the template will have sections that you will need to edit with custom values. Don’t worry, these sections are easily identifiable as they all start with <code class="docutils literal notranslate"><span class="pre">PATTOO_</span></code></p>
<p><strong>NOTE:</strong> The indentations in the YAML configuration are important. Make sure indentations line up. Dashes ‘-‘ indicate one item in a list of items (if applicable).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pattoo</span><span class="p">:</span>

    <span class="nt">log_level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
    <span class="nt">log_directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PATTOO_LOG_DIRECTORY</span>
    <span class="nt">cache_directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PATTOO_CACHE_DIRECTORY</span>
    <span class="nt">daemon_directory</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">PATTOO_DAEMON_DIRECTORY</span>
    <span class="nt">language</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">en</span>

<span class="nt">pattoo_web_api</span><span class="p">:</span>

   <span class="nt">ip_address</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
   <span class="nt">ip_bind_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20200</span>
</pre></div>
</div>
<div class="section" id="pattoo-communication-configuration-explanation">
<h6><code class="docutils literal notranslate"><span class="pre">pattoo</span></code> Communication Configuration Explanation<a class="headerlink" href="#pattoo-communication-configuration-explanation" title="Permalink to this headline">¶</a></h6>
<p>This table outlines the purpose of each configuration parameter.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Config Options</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pattoo</span></code></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log_directory</span></code></p></td>
<td><p>Path to logging directory. Make sure the username running the daemons have RW access to files there.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">log_level</span></code></p></td>
<td><p>Default level of logging. <code class="docutils literal notranslate"><span class="pre">debug</span></code> is best for troubleshooting.</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">cache_directory</span></code></p></td>
<td><p>Directory that will temporarily store data data from agents prior to be added to the <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> database.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">daemon_directory</span></code></p></td>
<td><p>Directory used to store daemon related data that needs to be maintained between reboots</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">language</span></code></p></td>
<td><p>Language spoken by the human users of <code class="docutils literal notranslate"><span class="pre">pattoo</span></code>. Defaults to <code class="docutils literal notranslate"><span class="pre">en</span></code> (English)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pattoo_web_api</span></code></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ip_address</span></code></p></td>
<td><p>IP address of the <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> server to which the <code class="docutils literal notranslate"><span class="pre">pattoo_webd</span></code> daemon will use to transmit and receive data.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ip_bind_port</span></code></p></td>
<td><p>TCP port of used by the <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> server for this purpose</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="edit-your-web-configuration">
<h5>Edit Your Web Configuration<a class="headerlink" href="#edit-your-web-configuration" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">pattoo_webd.yaml</span></code> file created from the template will have sections that you will need to edit with custom values. Don’t worry, these sections are easily identifiable as they all start with <code class="docutils literal notranslate"><span class="pre">PATTOO_</span></code></p>
<p><strong>NOTE:</strong> The indentations in the YAML configuration are important. Make sure indentations line up. Dashes ‘-‘ indicate one item in a list of items (if applicable).</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">pattoo_webd</span><span class="p">:</span>

   <span class="nt">ip_listen_address</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0.0.0.0</span>
   <span class="nt">ip_bind_port</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">20200</span>
</pre></div>
</div>
<div class="section" id="web-configuration-explanation">
<h6>Web Configuration Explanation<a class="headerlink" href="#web-configuration-explanation" title="Permalink to this headline">¶</a></h6>
<p>This table outlines the purpose of each configuration parameter.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Section</p></th>
<th class="head"><p>Config Options</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pattoo_webd</span></code></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ip_listen_address</span></code></p></td>
<td><p>IP address used by the <code class="docutils literal notranslate"><span class="pre">pattoo_webd</span></code> daemon for accepting data from web browser users. Default of ‘0.0.0.0’ which indicates listening on all available network interfaces. You can also use IPv6 nomenclature such as <code class="docutils literal notranslate"><span class="pre">::</span></code>. The <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> APIs don’t support IPv6 and IPv4 at the same time.</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ip_bind_port</span></code></p></td>
<td><p>TCP port of used by the <code class="docutils literal notranslate"><span class="pre">pattoo_webd</span></code> daemon for accepting data from remote <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> agents. Default of 20202.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/pattoo-rtd.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<p class="caption"><span class="caption-text">Introduction:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project-structure.html">Project Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Pattoo</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Basic Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setting-the-configuration-directory-location">Setting the  Configuration Directory Location</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-options">Configuration Options</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quick-method">Quick Method</a></li>
<li class="toctree-l3"><a class="reference internal" href="#expert-method">Expert Method</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#copy-the-templates-to-your-configuration-directory">Copy the Templates to Your Configuration Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#edit-your-configuration-files">Edit Your Configuration Files</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#edit-your-pattoo-communication-configuration">Edit Your <code class="docutils literal notranslate"><span class="pre">pattoo</span></code> Communication Configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#pattoo-communication-configuration-explanation"><code class="docutils literal notranslate"><span class="pre">pattoo</span></code> Communication Configuration Explanation</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#edit-your-web-configuration">Edit Your Web Configuration</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#web-configuration-explanation">Web Configuration Explanation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pattoo_webd.html">Pattoo Web API Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting Pattoo Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="backup.html">Backup and Restoration</a></li>
<li class="toctree-l1"><a class="reference internal" href="cron.html">Periodic Jobs</a></li>
</ul>
<p class="caption"><span class="caption-text">Developers:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">How To Contribute</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="installation.html" title="previous chapter">Basic Installation</a></li>
      <li>Next: <a href="pattoo_webd.html" title="next chapter">Pattoo Web API Daemon</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Peter Harrison.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>